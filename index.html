import React, { useState } from "react";

export default function NovaAI(){

const [page,setPage] = useState("login");
const [chat,setChat] = useState([]);
const [msg,setMsg] = useState("");
const [user,setUser] = useState(null);

// ================= AUTH =================
function login(){
  if(userEmail && userPass){
    setUser(userEmail);
    setPage("home");
  }
}

// ================= AI DEMO =================
async function askAI(text){
  // yaha future me real API lagega
  return "Nova reply for: " + text;
}

async function send(){
  if(!msg) return;
  const reply = await askAI(msg);
  setChat([...chat,{u:msg,b:reply}]);
  setMsg("");
}

// ================= VOICE =================
function startVoice(){
 const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
 const rec = new SpeechRecognition();
 rec.onresult = (e)=>{
   setMsg(e.results[0][0].transcript);
 };
 rec.start();
}

// ================= PAGES =================
if(page==="login"){
  var userEmail,userPass;
  return(
    <div className="p-5">
      <h2>Nova AI Login</h2>
      <input placeholder="email" onChange={e=>userEmail=e.target.value}/>
      <input placeholder="password" onChange={e=>userPass=e.target.value}/>
      <button onClick={login}>Login</button>
      <p onClick={()=>setPage("signup")}>Create account</p>
    </div>
  );
}

if(page==="signup"){
  return(
    <div className="p-5">
      <h2>Signup</h2>
      <button onClick={()=>setPage("login")}>Back to login</button>
    </div>
  );
}

if(page==="home"){
  return(
    <div className="p-5">
      <h2>Welcome {user}</h2>

      <button onClick={()=>setPage("chat")}>AI Chat</button>
      <button onClick={()=>setPage("voice")}>Voice Buddy</button>
      <button onClick={()=>setPage("canvas")}>Dream Canvas</button>
      <button onClick={()=>setPage("fact")}>Fact Finder</button>
      <button onClick={()=>setPage("guide")}>Global Guide</button>
      <button onClick={()=>setPage("chef")}>Chef AI</button>
    </div>
  );
}

if(page==="chat"){
  return(
    <div className="p-5">
      <h2>AI Chat</h2>

      {chat.map((c,i)=>(
        <div key={i}>
          <p>You: {c.u}</p>
          <p>Nova: {c.b}</p>
        </div>
      ))}

      <input value={msg} onChange={e=>setMsg(e.target.value)}/>
      <button onClick={send}>Send</button>
      <button onClick={()=>setPage("home")}>Back</button>
    </div>
  );
}

if(page==="voice"){
  return(
    <div className="p-5">
      <h2>Voice Buddy</h2>
      <button onClick={startVoice}>ðŸŽ¤ Speak</button>
      <button onClick={()=>setPage("chat")}>Go to Chat</button>
    </div>
  );
}

if(page==="canvas"){
  return(
    <div className="p-5">
      <h2>Dream Canvas</h2>
      <p>Image generation API future me connect hogi.</p>
      <button onClick={()=>setPage("home")}>Back</button>
    </div>
  );
}

if(page==="fact"){
  return(
    <div className="p-5">
      <h2>Fact Finder</h2>
      <p>Search / knowledge API yaha lagega.</p>
      <button onClick={()=>setPage("home")}>Back</button>
    </div>
  );
}

if(page==="guide"){
  return(
    <div className="p-5">
      <h2>Global Guide</h2>
      <p>Maps / travel AI future me.</p>
      <button onClick={()=>setPage("home")}>Back</button>
    </div>
  );
}

if(page==="chef"){
  return(
    <div className="p-5">
      <h2>Chef AI</h2>
      <p>Food photo â†’ recipe system future me.</p>
      <button onClick={()=>setPage("home")}>Back</button>
    </div>
  );
}

}
